!function(e){function t(t){for(var o,n,i=t[0],l=t[1],s=t[2],d=0,u=[];d<i.length;d++)n=i[d],Object.prototype.hasOwnProperty.call(_,n)&&_[n]&&u.push(_[n][0]),_[n]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);for(c&&c(t);u.length;)u.shift()();return a.push.apply(a,s||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],o=!0,i=1;i<r.length;i++){var l=r[i];0!==_[l]&&(o=!1)}o&&(a.splice(t--,1),e=n(n.s=r[0]))}return e}var o={},_={0:0},a=[];function n(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.e=function(e){var t=[],r=_[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,o){r=_[e]=[t,o]}));t.push(r[2]=o);var a,i=document.createElement("script");i.charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.src=function(e){return n.p+""+({}[e]||e)+"."+{2:"c1d6a2116d5668e5c07e",3:"3926f494edeb1dbe8ac0",4:"e51d2958d5906f9a1339",5:"0425e257b94977991088"}[e]+".bundle.js"}(e);var l=new Error;a=function(t){i.onerror=i.onload=null,clearTimeout(s);var r=_[e];if(0!==r){if(r){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",l.name="ChunkLoadError",l.type=o,l.request=a,r[1](l)}_[e]=void 0}};var s=setTimeout((function(){a({type:"timeout",target:i})}),12e4);i.onerror=i.onload=a,document.head.appendChild(i)}return Promise.all(t)},n.m=e,n.c=o,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/openshop/",n.oe=function(e){throw console.error(e),e};var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var c=l;a.push([189,1]),r()}({122:function(e,t,r){"use strict";(function(e){var o,_=r(149),a=r(0),n=r(8),i=r(123),l=r(127),s=r(240),c=r(150);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const d=n.a`
    html, body, #root {
        padding: 0;
        margin: 0;
        width: 100%;
        height: 100%;
    }
`,u=new i.a,p=u.addNewEmptyProject(),h=p.addNewEmptyLayer();function E(){return a.createElement(a.Fragment,null,a.createElement(s.a,{backend:c.a},a.createElement(d,null),a.createElement(l.a,{model:u})))}const b=Object(_.hot)(E);var m,f;t.a=b,(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(m.register(d,"GlobalStyle","/home/runner/work/openshop/openshop/src/views/RootView.tsx"),m.register(u,"model","/home/runner/work/openshop/openshop/src/views/RootView.tsx"),m.register(p,"project","/home/runner/work/openshop/openshop/src/views/RootView.tsx"),m.register(h,"layer","/home/runner/work/openshop/openshop/src/views/RootView.tsx"),m.register(E,"Root","/home/runner/work/openshop/openshop/src/views/RootView.tsx"),m.register(b,"default","/home/runner/work/openshop/openshop/src/views/RootView.tsx")),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&f(e)}).call(this,r(12)(e))},123:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return AppModel}));var _babel_runtime_helpers_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(13),_babel_runtime_helpers_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9),_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_initializerWarningHelper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(50),_babel_runtime_helpers_initializerWarningHelper__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_initializerWarningHelper__WEBPACK_IMPORTED_MODULE_2__),mobx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4),_project__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(14),_common_util__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(38),_class,_descriptor,_descriptor2,_temp,enterModule;enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};let AppModel=(_temp=class AppModel{constructor(){_babel_runtime_helpers_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"selectedProjectUuid",_descriptor,this),_babel_runtime_helpers_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"projects",_descriptor2,this)}get selectedProject(){if(null!=this.selectedProjectUuid)return this.projects.find(e=>e.uuid===this.selectedProjectUuid)}setSelectedProject(e){if(!this.projects.some(t=>t.uuid===e))throw new Error(`Unable to find project uuid ${e}.`);this.selectedProjectUuid=e}addNewEmptyProject(e){const t=null!=e?e:Object(_common_util__WEBPACK_IMPORTED_MODULE_5__.a)("Untitled #",this.projects.map(e=>e.name)),r=new _project__WEBPACK_IMPORTED_MODULE_4__.c({width:800,height:600,name:t}),o=r.addNewEmptyLayer();return r.setSelectedLayer(o.uuid),this.projects.push(r),this.setSelectedProject(r.uuid),r}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}},_class=_temp,_descriptor=_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default()(_class.prototype,"selectedProjectUuid",[mobx__WEBPACK_IMPORTED_MODULE_3__.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_descriptor2=_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default()(_class.prototype,"projects",[mobx__WEBPACK_IMPORTED_MODULE_3__.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default()(_class.prototype,"selectedProject",[mobx__WEBPACK_IMPORTED_MODULE_3__.g],Object.getOwnPropertyDescriptor(_class.prototype,"selectedProject"),_class.prototype),_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default()(_class.prototype,"setSelectedProject",[mobx__WEBPACK_IMPORTED_MODULE_3__.f],Object.getOwnPropertyDescriptor(_class.prototype,"setSelectedProject"),_class.prototype),_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default()(_class.prototype,"addNewEmptyProject",[mobx__WEBPACK_IMPORTED_MODULE_3__.f],Object.getOwnPropertyDescriptor(_class.prototype,"addNewEmptyProject"),_class.prototype),_class);var reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(AppModel,"AppModel","/home/runner/work/openshop/openshop/src/models/app.ts"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(12)(module))},124:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return LayerModel}));var _babel_runtime_helpers_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(13),_babel_runtime_helpers_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9),_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_initializerWarningHelper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(50),_babel_runtime_helpers_initializerWarningHelper__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_initializerWarningHelper__WEBPACK_IMPORTED_MODULE_2__),uuid__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(58),mobx__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_util__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(22),_common_point__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(80),_common_notifier__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(56),_f32_image_data__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(125),_class,_descriptor,_descriptor2,_descriptor3,_temp,enterModule;enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};let LayerModel=(_temp=class LayerModel{constructor(e){var t;this.uuid=void 0,_babel_runtime_helpers_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"name",_descriptor,this),_babel_runtime_helpers_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"hidden",_descriptor2,this),_babel_runtime_helpers_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"opacity",_descriptor3,this),this.image=void 0,this.uuid=Object(uuid__WEBPACK_IMPORTED_MODULE_3__.a)(),this.name=null!==(t=e.name)&&void 0!==t?t:this.uuid,this.image=new _common_notifier__WEBPACK_IMPORTED_MODULE_7__.a(new _f32_image_data__WEBPACK_IMPORTED_MODULE_8__.a(e.width,e.height))}drawPoint(e,t,r,o){this.rawDrawPoint(e,t,r,o),this.image.notify()}drawLine(e,t,r,o,_){for(const a of Object(_common_point__WEBPACK_IMPORTED_MODULE_6__.a)(e,t))this.rawDrawPoint(a,r,o,_);this.image.notify()}fill(e,t,r,o){Object(_util__WEBPACK_IMPORTED_MODULE_5__.c)(this.image.value,e,t,r,o),this.image.notify()}erasePoint(e,t,r){this.rawErasePoint(e,t,r),this.image.notify()}eraseLine(e,t,r,o){for(const _ of Object(_common_point__WEBPACK_IMPORTED_MODULE_6__.a)(e,t))this.rawErasePoint(_,r,o);this.image.notify()}rawDrawPoint(e,t,r,o){const _=this.image.value;let a=0,n=0,i=0,l=0;const s=r/2;for(l=Math.round(e[1]-s);l<=Math.round(e[1]+s);l++)for(i=Math.round(e[0]-s);i<=Math.round(e[0]+s);i++)a=l*_.width+i,n=4*a,_.data[n+0]=t[0],_.data[n+1]=t[1],_.data[n+2]=t[2],_.data[n+3]=t[3],o[a]=!0}rawErasePoint(e,t,r){const o=this.image.value,_=Math.round(Math.max(e[0]-t/2,0)),a=Math.round(Math.min(e[0]+t/2,o.width)),n=Math.round(Math.max(e[1]-t/2,0)),i=Math.round(Math.min(e[1]+t/2,o.height));let l=0,s=0,c=0,d=0;for(s=n;s<i;s++)for(l=_;l<a;l++)c=s*o.width+l,d=4*c,o.data[d+0]=0,o.data[d+1]=0,o.data[d+2]=0,o.data[d+3]=0,r[c]=!0}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}},_class=_temp,_descriptor=_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default()(_class.prototype,"name",[mobx__WEBPACK_IMPORTED_MODULE_4__.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_descriptor2=_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default()(_class.prototype,"hidden",[mobx__WEBPACK_IMPORTED_MODULE_4__.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_descriptor3=_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default()(_class.prototype,"opacity",[mobx__WEBPACK_IMPORTED_MODULE_4__.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_class);var reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(LayerModel,"LayerModel","/home/runner/work/openshop/openshop/src/models/layer.ts"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(12)(module))},125:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var enterModule;__webpack_require__.d(__webpack_exports__,"a",(function(){return F32ImageData})),enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},reactHotLoader,leaveModule;class F32ImageData{constructor(e,t){this.width=void 0,this.height=void 0,this.data=void 0,this.width=e,this.height=t,this.data=new Float32Array(this.width*this.height*4)}static fromImageData(e){const t=new F32ImageData(e.width,e.height);for(let r=0;r<e.data.length;r++)t.data[r]=e.data[r]/255;return t}toImageData(){const e=new ImageData(this.width,this.height);for(let t=0;t<this.data.length;t++)e.data[t]=Math.floor(255*this.data[t]);return e}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(F32ImageData,"F32ImageData","/home/runner/work/openshop/openshop/src/models/f32_image_data.ts"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(12)(module))},126:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return PaletteModel}));var _babel_runtime_helpers_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(13),_babel_runtime_helpers_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9),_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_initializerWarningHelper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(50),_babel_runtime_helpers_initializerWarningHelper__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_initializerWarningHelper__WEBPACK_IMPORTED_MODULE_2__),uuid__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(58),mobx__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_class,_descriptor,_temp,enterModule;enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};let PaletteModel=(_temp=class PaletteModel{constructor(){this.uuid=void 0,_babel_runtime_helpers_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"palettes",_descriptor,this),this.uuid=Object(uuid__WEBPACK_IMPORTED_MODULE_3__.a)()}addPalette(e){const t={uuid:Object(uuid__WEBPACK_IMPORTED_MODULE_3__.a)(),color:[...e]};return this.palettes.push(t),t}deletePalette(e){const t=this.palettes.findIndex(t=>t.uuid===e);this.palettes.splice(t,1)}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}},_class=_temp,_descriptor=_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default()(_class.prototype,"palettes",[mobx__WEBPACK_IMPORTED_MODULE_4__.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default()(_class.prototype,"addPalette",[mobx__WEBPACK_IMPORTED_MODULE_4__.f],Object.getOwnPropertyDescriptor(_class.prototype,"addPalette"),_class.prototype),_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default()(_class.prototype,"deletePalette",[mobx__WEBPACK_IMPORTED_MODULE_4__.f],Object.getOwnPropertyDescriptor(_class.prototype,"deletePalette"),_class.prototype),_class);var reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(PaletteModel,"PaletteModel","/home/runner/work/openshop/openshop/src/models/palette.ts"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(12)(module))},127:function(e,t,r){"use strict";(function(e){var o,_=r(0),a=r(21),n=r(8),i=r(3),l=r(128),s=r(144);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const c=n.b.div.withConfig({displayName:"AppView__RootDiv",componentId:"sc-7rhzzv-0"})(["display:flex;flex-direction:column;height:100%;overflow:hidden;"]),d=n.b.div.withConfig({displayName:"AppView__TabTitleDiv",componentId:"sc-7rhzzv-1"})(["display:grid;grid-template-columns:100px auto auto;"]),u=n.b.div.withConfig({displayName:"AppView__TabTitleNameDiv",componentId:"sc-7rhzzv-2"})(["text-overflow:ellipsis;word-wrap:unset;overflow:hidden;white-space:nowrap;margin-left:8px;"]),p=Object(a.a)(e=>{const{model:t}=e,r=t.projects.find(e=>e.uuid===t.selectedProjectUuid);return _.createElement(c,null,_.createElement(s.a,{app:t}),_.createElement(i.Tabs,{onChange:e=>t.selectedProjectUuid=e},t.projects.map(e=>_.createElement(i.Tab,{key:e.uuid,id:e.uuid,title:_.createElement(d,null,_.createElement(u,{title:e.name},e.name),_.createElement("div",null,"(",e.width,"x",e.height,")"),_.createElement(i.Button,{icon:"cross",minimal:!0,small:!0}))}))),r&&_.createElement(l.a,{app:t,project:r}))});var h,E;t.a=p,(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(h.register(c,"RootDiv","/home/runner/work/openshop/openshop/src/views/AppView.tsx"),h.register(d,"TabTitleDiv","/home/runner/work/openshop/openshop/src/views/AppView.tsx"),h.register(u,"TabTitleNameDiv","/home/runner/work/openshop/openshop/src/views/AppView.tsx"),h.register(p,"default","/home/runner/work/openshop/openshop/src/views/AppView.tsx")),(E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&E(e)}).call(this,r(12)(e))},128:function(e,t,r){"use strict";(function(e){var o,_=r(0),a=r(8),n=r(21),i=r(129),l=r(141),s=r(143);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const c=a.b.div.withConfig({displayName:"ProjectView__RootDiv",componentId:"sc-1o1kmbz-0"})(["flex:1 1 auto;display:flex;flex-direction:row;border-top:1px solid black;"]),d=Object(n.a)(e=>{const{app:t,project:r}=e;return _.createElement(c,null,_.createElement(i.a,{project:r}),_.createElement(s.a,{project:r,app:t}),_.createElement(l.a,{project:r}))});var u,p;t.a=d,(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register(c,"RootDiv","/home/runner/work/openshop/openshop/src/views/ProjectView.tsx"),u.register(d,"default","/home/runner/work/openshop/openshop/src/views/ProjectView.tsx")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)}).call(this,r(12)(e))},129:function(e,t,r){"use strict";(function(e){var o,_=r(0),a=r(8),n=r(3),i=r(33),l=r(21),s=r(30),c=r(14),d=r(131),u=r(26),p=r(140);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const h=a.b.div.withConfig({displayName:"ToolboxView__RootDiv",componentId:"kl07qs-0"})(["display:flex;flex-direction:column;border-right:1px solid black;"]),E=a.b.div.withConfig({displayName:"ToolboxView__ToolSelectDiv",componentId:"kl07qs-1"})(["display:grid;grid-template-columns:1fr 1fr;gap:4px 4px;margin:4px;"]),b=a.b.div.withConfig({displayName:"ToolboxView__SelectionHeader",componentId:"kl07qs-2"})(["background-color:",";display:flex;flex-direction:row;justify-content:center;align-items:center;padding:4px 0px;margin-top:8px;:first-child{margin-top:0px;}"],n.Colors.DARK_GRAY1),m=a.b.div.withConfig({displayName:"ToolboxView__ColorSelectDiv",componentId:"kl07qs-3"})(["display:grid;grid-template-columns:1fr 1fr;padding:4px;gap:4px;"]),f=Object(l.a)(e=>{const t=_.createElement(p.a,{color:e.color});return _.createElement(d.a,{palette:e.palette,target:t,color:e.color,onColorSelect:t=>Object.assign(e.color,t)})}),M=Object(l.a)(e=>{const{project:t}=e,r=t.selectedTool;return _.createElement(h,null,_.createElement(b,null,"Selection"),_.createElement(E,null,_.createElement(n.Button,{title:"Select",active:r===c.d.Select,onClick:()=>t.setSelectedTool(c.d.Select)},_.createElement(s.a,{icon:i.f})),_.createElement(n.Button,{title:"Pan",icon:u.a.HAND,active:r===c.d.Pan,onClick:()=>t.setSelectedTool(c.d.Pan)})),_.createElement(b,null,"Draw/Paint"),_.createElement(E,null,_.createElement(n.Button,{title:"Pencil",icon:_.createElement(s.a,{icon:i.h}),active:r===c.d.Pencil,onClick:()=>t.setSelectedTool(c.d.Pencil)}),_.createElement(n.Button,{title:"Brush",icon:_.createElement(s.a,{icon:i.g}),active:r===c.d.Brush,onClick:()=>t.setSelectedTool(c.d.Brush)}),_.createElement(n.Button,{title:"Eraser",icon:_.createElement(s.a,{icon:i.a}),active:r===c.d.Eraser,onClick:()=>t.setSelectedTool(c.d.Eraser)})),_.createElement(b,null,"Other"),_.createElement(E,null,_.createElement(n.Button,{title:"Fill",icon:_.createElement(s.a,{icon:i.e}),active:r===c.d.Fill,onClick:()=>t.setSelectedTool(c.d.Fill)}),_.createElement(n.Button,{title:"Pick a color.",icon:_.createElement(s.a,{icon:i.b}),active:r===c.d.Eyedropper,onClick:()=>t.setSelectedTool(c.d.Eyedropper)})),_.createElement(b,null,"Colors"),_.createElement(m,null,_.createElement(f,{palette:t.palette,color:t.primaryColor,title:"Primary"}),_.createElement(f,{palette:t.palette,color:t.secondaryColor,title:"Secondary"})),_.createElement("div",null))});var D,P;t.a=M,(D="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(D.register(h,"RootDiv","/home/runner/work/openshop/openshop/src/views/ToolboxView.tsx"),D.register(E,"ToolSelectDiv","/home/runner/work/openshop/openshop/src/views/ToolboxView.tsx"),D.register(b,"SelectionHeader","/home/runner/work/openshop/openshop/src/views/ToolboxView.tsx"),D.register(m,"ColorSelectDiv","/home/runner/work/openshop/openshop/src/views/ToolboxView.tsx"),D.register(f,"ColoredBox","/home/runner/work/openshop/openshop/src/views/ToolboxView.tsx"),D.register(M,"default","/home/runner/work/openshop/openshop/src/views/ToolboxView.tsx")),(P="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&P(e)}).call(this,r(12)(e))},131:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return ColorPickerModal}));var _babel_runtime_helpers_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(13),_babel_runtime_helpers_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9),_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_initializerWarningHelper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(50),_babel_runtime_helpers_initializerWarningHelper__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_initializerWarningHelper__WEBPACK_IMPORTED_MODULE_2__),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__),styled_components__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8),mobx_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(21),_blueprintjs_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3),_common_colors__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(29),_static_alpha_pattern_png__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(72),mobx__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(4),_common_interval__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(132),_util__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(22),_class,_class2,_descriptor,_descriptor2,_descriptor3,_descriptor4,_temp,enterModule;enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const MINOR_STEP_SIZE=.01,STEP_SIZE=.1,Canvas=styled_components__WEBPACK_IMPORTED_MODULE_4__.b.canvas.withConfig({displayName:"ColorPickerModal__Canvas",componentId:"v1r4qa-0"})(["height:256px;background-image:url(",");margin-bottom:16px;"],_static_alpha_pattern_png__WEBPACK_IMPORTED_MODULE_8__.a),DialogBody=styled_components__WEBPACK_IMPORTED_MODULE_4__.b.div.withConfig({displayName:"ColorPickerModal__DialogBody",componentId:"v1r4qa-1"})(["display:flex;flex-direction:column;"]),InputsDiv=styled_components__WEBPACK_IMPORTED_MODULE_4__.b.div.withConfig({displayName:"ColorPickerModal__InputsDiv",componentId:"v1r4qa-2"})(["display:grid;grid-template-columns:1fr 1fr;"]);let ColorPickerModal=Object(mobx_react__WEBPACK_IMPORTED_MODULE_5__.a)((_temp=class ColorPickerModal extends react__WEBPACK_IMPORTED_MODULE_3__.Component{constructor(e){super(e),this.canvasRef=null,this.backdrop=new ImageData(1,1),_babel_runtime_helpers_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"isOpen",_descriptor,this),_babel_runtime_helpers_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"hslColor",_descriptor2,this),_babel_runtime_helpers_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"rgbColor",_descriptor3,this),_babel_runtime_helpers_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"alpha",_descriptor4,this),this.disposers=[Object(mobx__WEBPACK_IMPORTED_MODULE_9__.o)(()=>this.props.color,e=>{this.setRgb([e[0],e[1],e[2]]),this.alpha=e[3]})],this.drawInterval=new _common_interval__WEBPACK_IMPORTED_MODULE_10__.a(()=>this.drawCanvas(),500),this.onCanvasRef=e=>{this.canvasRef=e},this.onCanvasClick=e=>{const t=this.canvasRef;if(null==t)return;const r=t.getBoundingClientRect(),o=Math.floor(e.clientX-r.left),_=Math.floor(e.clientY-r.top),a=[0,0,0],n=[0,0,0];a[0]=o/t.width*360,a[1]=1,a[2]=_/t.height,Object(_common_colors__WEBPACK_IMPORTED_MODULE_7__.b)(a,n),this.setRgb(n)},this.onAcceptClick=e=>{this.props.onColorSelect([...this.rgbColor,this.alpha]),this.setOpen(!1)},this.onTargetClick=e=>{this.setOpen(!0)},this.onDialogClose=()=>{this.setOpen(!1)},this.onDialogOpening=()=>{this.drawCanvas()},this.onRedChange=e=>{this.setRgb([e,this.rgbColor[1],this.rgbColor[2]])},this.onGreenChange=e=>{this.setRgb([this.rgbColor[0],e,this.rgbColor[2]])},this.onBlueChange=e=>{this.setRgb([this.rgbColor[0],this.rgbColor[1],e])},this.onHueChange=e=>{this.setHsl([e,this.hslColor[1],this.hslColor[2]])},this.onSaturationChange=e=>{this.setHsl([this.hslColor[0],e,this.hslColor[2]])},this.onValueChange=e=>{this.setHsl([this.hslColor[0],this.hslColor[1],e])},this.rgbColor=[e.color[0],e.color[1],e.color[2]],Object(_common_colors__WEBPACK_IMPORTED_MODULE_7__.e)(e.color,this.hslColor),this.alpha=e.color[3]}updateColor(e){console.log("Updating color",e),this.rgbColor=[e[0],e[1],e[2]],Object(_common_colors__WEBPACK_IMPORTED_MODULE_7__.e)(e,this.hslColor),this.alpha=e[3]}componentWillUnmount(){this.drawInterval.stop();for(const e of this.disposers)e()}setOpen(e){this.isOpen=e,this.isOpen?(Object(_util__WEBPACK_IMPORTED_MODULE_11__.b)(100).then(()=>this.drawCanvas()),this.drawInterval.start()):this.drawInterval.stop()}setRgb(e){Object(_common_colors__WEBPACK_IMPORTED_MODULE_7__.a)(e,this.rgbColor),Object(_common_colors__WEBPACK_IMPORTED_MODULE_7__.e)(e,this.hslColor),this.drawCanvas()}setHsl(e){Object(_common_colors__WEBPACK_IMPORTED_MODULE_7__.a)(e,this.hslColor),Object(_common_colors__WEBPACK_IMPORTED_MODULE_7__.b)(this.hslColor,this.rgbColor),this.drawCanvas()}drawCanvas(){const e=this.canvasRef;if(null==e)return;const t=e.getContext("2d");if(null==t)return;const r="ColorPickerModal::drawCanvas";console.time(r);let o=0,_=0,a=0;const n=[0,0,0],i=[0,0,0];if(e.width!==e.clientWidth||e.height!==e.clientHeight||this.backdrop.width!==e.clientWidth||this.backdrop.height!==e.clientHeight)for(e.width=e.clientWidth,e.height=e.clientHeight,this.backdrop=new ImageData(e.width,e.height),_=0;_<e.height;_++)for(o=0;o<e.width;o++)a=Math.floor(4*(_*e.width+o)),n[0]=o/e.width*360,n[1]=1,n[2]=_/e.height,Object(_common_colors__WEBPACK_IMPORTED_MODULE_7__.b)(n,i),Object(_common_colors__WEBPACK_IMPORTED_MODULE_7__.c)(i,i),this.backdrop.data[a+0]=i[0],this.backdrop.data[a+1]=i[1],this.backdrop.data[a+2]=i[2],this.backdrop.data[a+3]=255;t.clearRect(0,0,e.width,e.height),t.putImageData(this.backdrop,0,0),Object(_common_colors__WEBPACK_IMPORTED_MODULE_7__.a)(this.hslColor,n),o=Math.floor(n[0]/360*e.width),_=Math.floor(n[2]*e.height),t.beginPath(),t.strokeStyle=n[2]>.5?"black":"white",t.arc(o,_,4,0,2*Math.PI),t.stroke(),console.timeEnd(r)}render(){var e;return react__WEBPACK_IMPORTED_MODULE_3__.createElement(react__WEBPACK_IMPORTED_MODULE_3__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_3__.createElement("div",{onClick:this.onTargetClick},this.props.target),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_6__.Dialog,{lazy:!0,canEscapeKeyClose:!0,canOutsideClickClose:!0,isCloseButtonShown:!0,isOpen:this.isOpen,title:null!==(e=this.props.title)&&void 0!==e?e:"Pick A Color",onClose:this.onDialogClose,onOpening:this.onDialogOpening},react__WEBPACK_IMPORTED_MODULE_3__.createElement(DialogBody,{className:_blueprintjs_core__WEBPACK_IMPORTED_MODULE_6__.Classes.DIALOG_BODY},react__WEBPACK_IMPORTED_MODULE_3__.createElement(Canvas,{onClick:this.onCanvasClick,ref:this.onCanvasRef}),react__WEBPACK_IMPORTED_MODULE_3__.createElement(InputsDiv,null,react__WEBPACK_IMPORTED_MODULE_3__.createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_6__.Label,null,"Red",react__WEBPACK_IMPORTED_MODULE_3__.createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_6__.NumericInput,{min:0,max:1,stepSize:STEP_SIZE,minorStepSize:MINOR_STEP_SIZE,value:this.rgbColor[0],onValueChange:this.onRedChange})),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_6__.Label,null,"Hue",react__WEBPACK_IMPORTED_MODULE_3__.createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_6__.NumericInput,{min:0,max:360,stepSize:1,minorStepSize:.1,value:this.hslColor[0],onValueChange:this.onHueChange})),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_6__.Label,null,"Green",react__WEBPACK_IMPORTED_MODULE_3__.createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_6__.NumericInput,{min:0,max:1,stepSize:STEP_SIZE,minorStepSize:MINOR_STEP_SIZE,value:this.rgbColor[1],onValueChange:this.onGreenChange})),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_6__.Label,null,"Saturation",react__WEBPACK_IMPORTED_MODULE_3__.createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_6__.NumericInput,{min:0,max:1,stepSize:STEP_SIZE,minorStepSize:MINOR_STEP_SIZE,value:this.hslColor[1],onValueChange:this.onSaturationChange})),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_6__.Label,null,"Blue",react__WEBPACK_IMPORTED_MODULE_3__.createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_6__.NumericInput,{min:0,max:1,stepSize:STEP_SIZE,minorStepSize:MINOR_STEP_SIZE,value:this.rgbColor[2],onValueChange:this.onBlueChange})),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_6__.Label,null,"Value",react__WEBPACK_IMPORTED_MODULE_3__.createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_6__.NumericInput,{min:0,max:1,stepSize:STEP_SIZE,minorStepSize:MINOR_STEP_SIZE,value:this.hslColor[2],onValueChange:this.onValueChange})),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_6__.Label,null,"Alpha",react__WEBPACK_IMPORTED_MODULE_3__.createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_6__.NumericInput,{min:0,max:1,stepSize:STEP_SIZE,minorStepSize:MINOR_STEP_SIZE,value:this.alpha}))),react__WEBPACK_IMPORTED_MODULE_3__.createElement("div",{className:_blueprintjs_core__WEBPACK_IMPORTED_MODULE_6__.Classes.DIALOG_FOOTER},react__WEBPACK_IMPORTED_MODULE_3__.createElement("div",{className:_blueprintjs_core__WEBPACK_IMPORTED_MODULE_6__.Classes.DIALOG_FOOTER_ACTIONS},react__WEBPACK_IMPORTED_MODULE_3__.createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_6__.Button,{text:"Close"}),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_6__.Button,{onClick:this.onAcceptClick,intent:_blueprintjs_core__WEBPACK_IMPORTED_MODULE_6__.Intent.PRIMARY,text:"Accept"}))))))}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}},_class2=_temp,_descriptor=_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default()(_class2.prototype,"isOpen",[mobx__WEBPACK_IMPORTED_MODULE_9__.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_descriptor2=_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default()(_class2.prototype,"hslColor",[mobx__WEBPACK_IMPORTED_MODULE_9__.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[0,0,0]}}),_descriptor3=_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default()(_class2.prototype,"rgbColor",[mobx__WEBPACK_IMPORTED_MODULE_9__.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[0,0,0]}}),_descriptor4=_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default()(_class2.prototype,"alpha",[mobx__WEBPACK_IMPORTED_MODULE_9__.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default()(_class2.prototype,"setOpen",[mobx__WEBPACK_IMPORTED_MODULE_9__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"setOpen"),_class2.prototype),_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default()(_class2.prototype,"setRgb",[mobx__WEBPACK_IMPORTED_MODULE_9__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"setRgb"),_class2.prototype),_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default()(_class2.prototype,"setHsl",[mobx__WEBPACK_IMPORTED_MODULE_9__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"setHsl"),_class2.prototype),_class=_class2))||_class;var reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(MINOR_STEP_SIZE,"MINOR_STEP_SIZE","/home/runner/work/openshop/openshop/src/components/ColorPickerModal.tsx"),reactHotLoader.register(STEP_SIZE,"STEP_SIZE","/home/runner/work/openshop/openshop/src/components/ColorPickerModal.tsx"),reactHotLoader.register(Canvas,"Canvas","/home/runner/work/openshop/openshop/src/components/ColorPickerModal.tsx"),reactHotLoader.register(DialogBody,"DialogBody","/home/runner/work/openshop/openshop/src/components/ColorPickerModal.tsx"),reactHotLoader.register(InputsDiv,"InputsDiv","/home/runner/work/openshop/openshop/src/components/ColorPickerModal.tsx"),reactHotLoader.register(ColorPickerModal,"ColorPickerModal","/home/runner/work/openshop/openshop/src/components/ColorPickerModal.tsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(12)(module))},132:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var enterModule;__webpack_require__.d(__webpack_exports__,"a",(function(){return Interval})),enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},reactHotLoader,leaveModule;class Interval{constructor(e,t){this._cb=void 0,this._ms=void 0,this._intervalId=void 0,this._cb=e,this._ms=t}get running(){return null!=this._intervalId}set ms(e){this._ms=e,this.running&&(clearInterval(this._intervalId),this._intervalId=setInterval(this._cb,this._ms))}start(){this.running||(this._intervalId=setInterval(this._cb,this._ms))}stop(){clearInterval(this._intervalId),this._intervalId=void 0}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(Interval,"Interval","/home/runner/work/openshop/openshop/src/common/interval.ts"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(12)(module))},14:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"d",(function(){return Tool})),__webpack_require__.d(__webpack_exports__,"b",(function(){return MIN_PENCIL_SIZE})),__webpack_require__.d(__webpack_exports__,"a",(function(){return MAX_PENCIL_SIZE})),__webpack_require__.d(__webpack_exports__,"c",(function(){return ProjectModel}));var _babel_runtime_helpers_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(13),_babel_runtime_helpers_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9),_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_initializerWarningHelper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(50),_babel_runtime_helpers_initializerWarningHelper__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_initializerWarningHelper__WEBPACK_IMPORTED_MODULE_2__),uuid__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(58),mobx__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_layer__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(124),_common_util__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(38),_palette__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(126),_class,_descriptor,_descriptor2,_descriptor3,_descriptor4,_descriptor5,_descriptor6,_descriptor7,_descriptor8,_descriptor9,_descriptor10,_descriptor11,_descriptor12,_temp,enterModule;enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};let Tool;!function(e){e[e.Select=0]="Select",e[e.Pan=1]="Pan",e[e.Pencil=2]="Pencil",e[e.Brush=3]="Brush",e[e.Eraser=4]="Eraser",e[e.Fill=5]="Fill",e[e.Eyedropper=6]="Eyedropper"}(Tool||(Tool={}));const MIN_PENCIL_SIZE=1,MAX_PENCIL_SIZE=16;let ProjectModel=(_temp=class ProjectModel{constructor(e){var t;this.uuid=void 0,this.width=void 0,this.height=void 0,_babel_runtime_helpers_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"name",_descriptor,this),this.cursor=[0,0],_babel_runtime_helpers_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"layers",_descriptor2,this),_babel_runtime_helpers_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"selectedLayerUuid",_descriptor3,this),_babel_runtime_helpers_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"palette",_descriptor4,this),_babel_runtime_helpers_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"primaryColor",_descriptor5,this),_babel_runtime_helpers_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"secondaryColor",_descriptor6,this),_babel_runtime_helpers_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"selectedTool",_descriptor7,this),_babel_runtime_helpers_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"fillTolerance",_descriptor8,this),_babel_runtime_helpers_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"pencilSize",_descriptor9,this),_babel_runtime_helpers_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"eraserSize",_descriptor10,this),_babel_runtime_helpers_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"brushSize",_descriptor11,this),_babel_runtime_helpers_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"brushFeather",_descriptor12,this),this.dirtyPixels=void 0,this.width=e.width,this.height=e.height,this.uuid=Object(uuid__WEBPACK_IMPORTED_MODULE_3__.a)(),this.name=null!==(t=e.name)&&void 0!==t?t:this.uuid,this.dirtyPixels=new Array(this.width*this.height).fill(!0)}get selectedLayer(){if(null==this.selectedLayerUuid)return;return this.layers.find(e=>e.uuid===this.selectedLayerUuid)}setSelectedLayer(e){if(!this.layers.some(t=>t.uuid===e))throw new Error("Provided UUID does not match any layeer UUIDs. Provided: "+e);this.selectedLayerUuid=e}setSelectedTool(e){this.selectedTool=e}addNewEmptyLayer(e){const t=null!=e?e:Object(_common_util__WEBPACK_IMPORTED_MODULE_6__.a)("Untitled #",this.layers.map(e=>e.name)),r=new _layer__WEBPACK_IMPORTED_MODULE_5__.a({width:this.width,height:this.height,name:t});return this.layers.push(r),this.markAllDirty(),r}deleteLayer(e){const t=this.layers.findIndex(t=>t.uuid===e);t<0||(this.layers.splice(t,1),this.markAllDirty())}markAllDirty(){for(let e=0;e<this.dirtyPixels.length;e++)this.dirtyPixels[e]=!0}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}},_class=_temp,_descriptor=_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default()(_class.prototype,"name",[mobx__WEBPACK_IMPORTED_MODULE_4__.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_descriptor2=_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default()(_class.prototype,"layers",[mobx__WEBPACK_IMPORTED_MODULE_4__.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_descriptor3=_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default()(_class.prototype,"selectedLayerUuid",[mobx__WEBPACK_IMPORTED_MODULE_4__.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_descriptor4=_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default()(_class.prototype,"palette",[mobx__WEBPACK_IMPORTED_MODULE_4__.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new _palette__WEBPACK_IMPORTED_MODULE_7__.a}}),_descriptor5=_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default()(_class.prototype,"primaryColor",[mobx__WEBPACK_IMPORTED_MODULE_4__.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[1,0,0,1]}}),_descriptor6=_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default()(_class.prototype,"secondaryColor",[mobx__WEBPACK_IMPORTED_MODULE_4__.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[0,0,1,1]}}),_descriptor7=_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default()(_class.prototype,"selectedTool",[mobx__WEBPACK_IMPORTED_MODULE_4__.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tool.Pencil}}),_descriptor8=_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default()(_class.prototype,"fillTolerance",[mobx__WEBPACK_IMPORTED_MODULE_4__.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_descriptor9=_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default()(_class.prototype,"pencilSize",[mobx__WEBPACK_IMPORTED_MODULE_4__.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),_descriptor10=_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default()(_class.prototype,"eraserSize",[mobx__WEBPACK_IMPORTED_MODULE_4__.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_descriptor11=_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default()(_class.prototype,"brushSize",[mobx__WEBPACK_IMPORTED_MODULE_4__.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),_descriptor12=_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default()(_class.prototype,"brushFeather",[mobx__WEBPACK_IMPORTED_MODULE_4__.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default()(_class.prototype,"selectedLayer",[mobx__WEBPACK_IMPORTED_MODULE_4__.g],Object.getOwnPropertyDescriptor(_class.prototype,"selectedLayer"),_class.prototype),_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default()(_class.prototype,"setSelectedLayer",[mobx__WEBPACK_IMPORTED_MODULE_4__.f],Object.getOwnPropertyDescriptor(_class.prototype,"setSelectedLayer"),_class.prototype),_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default()(_class.prototype,"setSelectedTool",[mobx__WEBPACK_IMPORTED_MODULE_4__.f],Object.getOwnPropertyDescriptor(_class.prototype,"setSelectedTool"),_class.prototype),_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default()(_class.prototype,"addNewEmptyLayer",[mobx__WEBPACK_IMPORTED_MODULE_4__.f],Object.getOwnPropertyDescriptor(_class.prototype,"addNewEmptyLayer"),_class.prototype),_babel_runtime_helpers_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_1___default()(_class.prototype,"deleteLayer",[mobx__WEBPACK_IMPORTED_MODULE_4__.f],Object.getOwnPropertyDescriptor(_class.prototype,"deleteLayer"),_class.prototype),_class);var reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(MIN_PENCIL_SIZE,"MIN_PENCIL_SIZE","/home/runner/work/openshop/openshop/src/models/project.ts"),reactHotLoader.register(MAX_PENCIL_SIZE,"MAX_PENCIL_SIZE","/home/runner/work/openshop/openshop/src/models/project.ts"),reactHotLoader.register(ProjectModel,"ProjectModel","/home/runner/work/openshop/openshop/src/models/project.ts")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(12)(module))},140:function(e,t,r){"use strict";(function(e){var o,_=r(0),a=r(21),n=r(29),i=r(8),l=r(47),s=r(3);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const c=i.b.div.withConfig({displayName:"ColorSquare__RootDiv",componentId:"fugezw-0"})(["border:1px solid ",";width:","px;height:","px;display:flex;flex-direction:row;"],e=>e.selected?s.Colors.BLUE5:s.Colors.BLACK,32,32),d=Object(i.b)(l.a).withConfig({displayName:"ColorSquare__BackdropDiv",componentId:"fugezw-1"})(["flex:1 1 auto;display:flex;flex-direction:row;"]),u=i.b.div.withConfig({displayName:"ColorSquare__SquareDiv",componentId:"fugezw-2"})(["flex:1 1 auto;"]),p=Object(a.a)(e=>{var t;const r=Object(n.d)(e.color);return _.createElement(c,{title:r,selected:null!==(t=e.selected)&&void 0!==t&&t,onClick:e.onClick},_.createElement(d,null,_.createElement(u,{style:{backgroundColor:r}})))});var h,E;t.a=p,(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(h.register(32,"SIZE","/home/runner/work/openshop/openshop/src/components/ColorSquare.tsx"),h.register(c,"RootDiv","/home/runner/work/openshop/openshop/src/components/ColorSquare.tsx"),h.register(d,"BackdropDiv","/home/runner/work/openshop/openshop/src/components/ColorSquare.tsx"),h.register(u,"SquareDiv","/home/runner/work/openshop/openshop/src/components/ColorSquare.tsx"),h.register(p,"default","/home/runner/work/openshop/openshop/src/components/ColorSquare.tsx")),(E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&E(e)}).call(this,r(12)(e))},141:function(e,t,r){"use strict";(function(e){var o,_=r(0),a=r(8),n=r(21),i=r(14),l=r(3),s=r(142),c=r(26);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const d=a.b.div.withConfig({displayName:"SidebarView__RootDiv",componentId:"sc-7eti43-0"})(["display:flex;flex-direction:column;width:400px;border:1px solid ",";"],l.Colors.DARK_GRAY1),u=a.b.div.withConfig({displayName:"SidebarView__LayersDiv",componentId:"sc-7eti43-1"})(["display:flex;flex-direction:column;"]),p=a.b.div.withConfig({displayName:"SidebarView__HeaderDiv",componentId:"sc-7eti43-2"})(["padding:4px;background-color:",";"],l.Colors.DARK_GRAY1),h=Object(a.b)(p).withConfig({displayName:"SidebarView__LayersHeaderDiv",componentId:"sc-7eti43-3"})(['display:grid;align-items:center;grid-template:[row1-start] "title add delete" auto [row1-end] / 1fr auto auto;gap:2px 2px;']),E=Object(a.b)(p).withConfig({displayName:"SidebarView__PalettesHeaderDiv",componentId:"sc-7eti43-4"})(['display:grid;align-items:center;grid-template:[row1-start] "title add delete" auto [row1-end] / 1fr auto auto;gap:2px 2px;']),b=a.b.div.withConfig({displayName:"SidebarView__PalettesDiv",componentId:"sc-7eti43-5"})(["display:flex;flex-direction:row;margin:8px;gap:4px;"]),m=a.b.div.withConfig({displayName:"SidebarView__SliderDiv",componentId:"sc-7eti43-6"})(["margin:0px 16px;"]),f=Object(n.a)(e=>{const{project:t}=e,r=t.selectedLayer,o=t.selectedTool;return _.createElement(d,null,o===i.d.Pencil&&_.createElement(_.Fragment,null,_.createElement(p,null,"Pencil Properties"),_.createElement(m,null,_.createElement(l.Label,null,"Size ",t.pencilSize,"px",_.createElement(l.Slider,{value:t.pencilSize,min:i.b,stepSize:1,labelStepSize:i.a-i.b,max:i.a,onChange:e=>t.pencilSize=e})))),o===i.d.Fill&&_.createElement(_.Fragment,null,_.createElement(p,null,"Fill Properties"),_.createElement(m,null,_.createElement(l.Label,null,"Tolerance ",t.fillTolerance,_.createElement(l.Slider,{value:t.fillTolerance,min:0,stepSize:1,labelStepSize:255,max:255,onChange:e=>t.fillTolerance=e})))),o===i.d.Eraser&&_.createElement(_.Fragment,null,_.createElement(p,null,"Eraser Properties"),_.createElement(m,null,_.createElement(l.Label,null,"Size ",t.eraserSize,"px",_.createElement(l.Slider,{value:t.eraserSize,min:1,stepSize:1,labelStepSize:99,max:100,onChange:e=>t.eraserSize=e})))),o===i.d.Brush&&_.createElement(_.Fragment,null,_.createElement(p,null,"Brush Properties"),_.createElement(m,null,_.createElement(l.Label,null,"Size ",t.brushSize,"px",_.createElement(l.Slider,{value:t.brushSize,min:1,stepSize:1,labelStepSize:99,max:100,onChange:e=>t.brushSize=e})),_.createElement(l.Label,null,"Feather ",(100*t.brushFeather).toFixed(2),"%",_.createElement(l.Slider,{value:t.brushFeather,min:0,stepSize:.001,labelStepSize:1,max:1,onChange:e=>t.brushFeather=e})))),_.createElement(h,null,_.createElement("div",{style:{gridArea:"title"}},"Layers"),_.createElement(l.Button,{icon:c.a.PLUS,onClick:()=>t.addNewEmptyLayer(),style:{gridArea:"add"},title:"Add new layer.",small:!0}),_.createElement(l.Button,{icon:c.a.TRASH,onClick:()=>r?t.deleteLayer(r.uuid):void 0,style:{gridArea:"delete"},title:"Delete selected layer.",small:!0})),_.createElement(u,null,t.layers.map(e=>_.createElement(s.a,{key:e.uuid,project:t,layer:e}))))});var M,D;t.a=f,(M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(M.register(d,"RootDiv","/home/runner/work/openshop/openshop/src/views/SidebarView.tsx"),M.register(u,"LayersDiv","/home/runner/work/openshop/openshop/src/views/SidebarView.tsx"),M.register(p,"HeaderDiv","/home/runner/work/openshop/openshop/src/views/SidebarView.tsx"),M.register(h,"LayersHeaderDiv","/home/runner/work/openshop/openshop/src/views/SidebarView.tsx"),M.register(E,"PalettesHeaderDiv","/home/runner/work/openshop/openshop/src/views/SidebarView.tsx"),M.register(b,"PalettesDiv","/home/runner/work/openshop/openshop/src/views/SidebarView.tsx"),M.register(m,"SliderDiv","/home/runner/work/openshop/openshop/src/views/SidebarView.tsx"),M.register(f,"default","/home/runner/work/openshop/openshop/src/views/SidebarView.tsx")),(D="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&D(e)}).call(this,r(12)(e))},142:function(e,t,r){"use strict";(function(e){var o,_=r(57),a=r.n(_),n=r(0),i=r(8),l=r(21),s=r(3),c=r(47),d=r(56),u=r(26);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const h=i.b.div.withConfig({displayName:"LayerEntryView__RootDiv",componentId:"sc-1sl3bx6-0"})(['display:grid;grid-template:[row1-start] "preview title active" 1fr [row1-end] [row1-start] "preview buttons buttons" 1fr [row1-end] / auto 1fr;margin:2px 0px;padding:4px;user-select:none;background-color:',";"," &:hover{background-color:rgba(0,0,0,0.25);}"],e=>e.selected?s.Colors.DARK_GRAY1:s.Colors.DARK_GRAY2,e=>e.selected&&`border: 1px ${s.Colors.BLUE5} solid;`),E=i.b.div.withConfig({displayName:"LayerEntryView__LayerName",componentId:"sc-1sl3bx6-1"})(["text-overflow:ellipsis;overflow:hidden;"]),b=a()((e,t)=>{const r=e;if(null==r)return;const o=r.getContext("2d");null!=o&&(o.clearRect(0,0,r.width,r.height),o.putImageData(t.toImageData(),0,0))},1e3),m=Object(l.a)(p(e=>{const{project:t,layer:r}=e;console.log("Render layer");const o=n.useRef(null),_=r.uuid===t.selectedLayerUuid;return Object(d.b)(r.image,e=>b(o.current,e)),n.createElement(h,{onClick:()=>t.setSelectedLayer(r.uuid),selected:_},n.createElement(c.a,{style:{marginRight:8,width:128,height:128,gridArea:"preview"}},n.createElement("canvas",{style:{width:128,height:128},ref:o,width:t.width,height:t.height})),n.createElement(E,{style:{gridArea:"title"}},r.name),_?n.createElement(s.Icon,{htmlTitle:"This layer is the currently selected layer.",icon:"tick-circle"}):"",n.createElement("div",{style:{gridArea:"buttons",justifySelf:"end",alignSelf:"end"}},n.createElement(s.Button,{onClick:()=>r.hidden=!r.hidden,icon:r.hidden?u.a.EYE_OFF:u.a.EYE_OPEN,title:r.hidden?"Show layer.":"Hide layer."})))},"useRef{canvasRef}\nuseNotify{}",()=>[d.b]));var f,M;t.a=m,(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(f.register(h,"RootDiv","/home/runner/work/openshop/openshop/src/views/LayerEntryView.tsx"),f.register(E,"LayerName","/home/runner/work/openshop/openshop/src/views/LayerEntryView.tsx"),f.register(b,"draw","/home/runner/work/openshop/openshop/src/views/LayerEntryView.tsx"),f.register(m,"default","/home/runner/work/openshop/openshop/src/views/LayerEntryView.tsx")),(M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&M(e)}).call(this,r(12)(e))},143:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return StageView}));var lodash_throttle__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(57),lodash_throttle__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_throttle__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),styled_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_common_webgl__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(31),gl_matrix__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(49),_util__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(22),enterModule;enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const RootDiv=styled_components__WEBPACK_IMPORTED_MODULE_2__.b.div.withConfig({displayName:"StageView__RootDiv",componentId:"sc-1ldqs41-0"})(["flex:1 1 auto;position:relative;overflow:hidden;"]),StageCanvas=styled_components__WEBPACK_IMPORTED_MODULE_2__.b.canvas.withConfig({displayName:"StageView__StageCanvas",componentId:"sc-1ldqs41-1"})(["position:absolute;top:0;left:0;user-select:none;touch-action:none;"]);class StageView extends react__WEBPACK_IMPORTED_MODULE_1__.Component{constructor(e){super(e),this.rootRef=null,this.stageRef=null,this.glState=void 0,this.isDrawing=!1,this.stageImage=void 0,this.projectionMatrix=gl_matrix__WEBPACK_IMPORTED_MODULE_4__.a.create(),this.modelViewMatrix=gl_matrix__WEBPACK_IMPORTED_MODULE_4__.a.create(),this.pointerX=0,this.pointerY=0,this.pointerPressure=0,this.pointerTiltX=0,this.pointerTiltY=0,this.pointQueue=[],this.onStageRef=e=>{this.stageRef=e,Object(_util__WEBPACK_IMPORTED_MODULE_5__.b)(500).then(()=>this.startDrawing())},this.onRootRef=e=>{this.rootRef=e},this.onStagePointerDown=e=>{this.onStagePointerEvent(e),this.throttledApplyPointQueue()},this.onStagePointerUp=e=>{this.onStagePointerEvent(e),this.throttledApplyPointQueue()},this.throttledApplyPointQueue=lodash_throttle__WEBPACK_IMPORTED_MODULE_0___default()(()=>{const e=this.props.project,t=e.selectedLayer;if(null==t)return;const r=this.pointQueue;this.pointQueue=[];for(const o of r)t.drawPoint([o.x,o.y],e.primaryColor,e.pencilSize*o.pressure,e.dirtyPixels);this.updateStageImage()},1e3/24,{leading:!1,trailing:!0}),this.onStagePointerMove=e=>{this.onStagePointerEvent(e),this.throttledApplyPointQueue()},this.onStagePointerEvent=e=>{if(null==this.props.project.selectedLayer)return;const t=this.stageRef;if(null==t)return;const r=t.getBoundingClientRect();this.pointerX=e.clientX-r.left,this.pointerY=e.clientY-r.top,this.pointerPressure=e.pressure,this.pointerTiltX=e.tiltX,this.pointerTiltY=e.tiltY,0!==this.pointerPressure&&this.pointQueue.push({pressure:e.pressure,x:this.pointerX,y:this.pointerY})},this.throttledUpdateStageImage=lodash_throttle__WEBPACK_IMPORTED_MODULE_0___default()(()=>this.updateStageImage(),1e3/24,{leading:!1,trailing:!0}),this.stageImage=new ImageData(this.props.project.width,this.props.project.height)}updateStageImage(){const e=this.props.project,t=e.selectedLayer;if(null==t)return;let r=0,o=0;for(let _=0;_<e.height;_++)for(let a=0;a<e.width;a++)r=_*e.width+a,o=4*r,e.dirtyPixels[r]&&(this.stageImage.data[o+0]=Math.floor(255*t.image.value.data[o+0]),this.stageImage.data[o+1]=Math.floor(255*t.image.value.data[o+1]),this.stageImage.data[o+2]=Math.floor(255*t.image.value.data[o+2]),this.stageImage.data[o+3]=Math.floor(255*t.image.value.data[o+3]),e.dirtyPixels[r]=!1);const _=this.glState;null!=_&&_.scene.tScene.setImageData(this.stageImage)}async startDrawing(){var e;const t=this.stageRef;if(null==t)return;const r=this.rootRef;if(null==r)return;const o=this.getGlContext(t);if(null==o)return;const _=null!==(e=this.glState)&&void 0!==e?e:await this.initState(r,t,o);this.isDrawing=!0;const a=()=>{this.draw(r,t,o,_),this.isDrawing&&requestAnimationFrame(a)};requestAnimationFrame(a)}render(){return react__WEBPACK_IMPORTED_MODULE_1__.createElement(RootDiv,{ref:this.onRootRef},react__WEBPACK_IMPORTED_MODULE_1__.createElement(StageCanvas,{onPointerMove:this.onStagePointerMove,onPointerDown:this.onStagePointerDown,onPointerUp:this.onStagePointerUp,ref:this.onStageRef}))}getGlContext(e){return e.getContext("webgl2",{alpha:!0})}async initState(e,t,r){const o=await _common_webgl__WEBPACK_IMPORTED_MODULE_3__.b.load(r,_common_webgl__WEBPACK_IMPORTED_MODULE_3__.c.VERTEX,__webpack_require__.e(3).then(__webpack_require__.bind(null,241))),_=await _common_webgl__WEBPACK_IMPORTED_MODULE_3__.b.load(r,_common_webgl__WEBPACK_IMPORTED_MODULE_3__.c.FRAGMENT,__webpack_require__.e(2).then(__webpack_require__.bind(null,242))),a=new _common_webgl__WEBPACK_IMPORTED_MODULE_3__.a(r,o,_),n=await _common_webgl__WEBPACK_IMPORTED_MODULE_3__.b.load(r,_common_webgl__WEBPACK_IMPORTED_MODULE_3__.c.VERTEX,__webpack_require__.e(5).then(__webpack_require__.bind(null,243))),i=await _common_webgl__WEBPACK_IMPORTED_MODULE_3__.b.load(r,_common_webgl__WEBPACK_IMPORTED_MODULE_3__.c.FRAGMENT,__webpack_require__.e(4).then(__webpack_require__.bind(null,244))),l=new _common_webgl__WEBPACK_IMPORTED_MODULE_3__.a(r,n,i),s=Object(_util__WEBPACK_IMPORTED_MODULE_5__.a)(r.createBuffer());r.bindBuffer(r.ARRAY_BUFFER,s),r.bufferData(r.ARRAY_BUFFER,new Float32Array([0,this.props.project.height,this.props.project.width,this.props.project.height,0,0,this.props.project.width,0]),r.STATIC_DRAW);const c=Object(_util__WEBPACK_IMPORTED_MODULE_5__.a)(r.createBuffer());r.bindBuffer(r.ARRAY_BUFFER,c),r.bufferData(r.ARRAY_BUFFER,new Float32Array([0,this.props.project.height,this.props.project.width,this.props.project.height,0,0,this.props.project.width,0]),r.STATIC_DRAW);const d=Object(_util__WEBPACK_IMPORTED_MODULE_5__.a)(r.createBuffer());r.bindBuffer(r.ARRAY_BUFFER,d),r.bufferData(r.ARRAY_BUFFER,new Float32Array([0,1,1,1,0,0,1,0]),r.STATIC_DRAW);const u=new _common_webgl__WEBPACK_IMPORTED_MODULE_3__.d(r,this.stageImage),p={background:{program:a,bVertexPositions:s,aVertexPosition:a.getAttribLocation("aVertexPosition"),uModelViewMatrix:a.getUniformLocation("uModelViewMatrix"),uProjectionMatrix:a.getUniformLocation("uProjectionMatrix")},scene:{program:l,bVertexPositions:c,bTextureCoords:d,tScene:u,aVertexPosition:l.getAttribLocation("aVertexPosition"),aTextureCoord:l.getAttribLocation("aTextureCoord"),uModelViewMatrix:l.getUniformLocation("uModelViewMatrix"),uProjectionMatrix:l.getUniformLocation("uProjectionMatrix"),uSampler:l.getUniformLocation("uSampler")}};return gl_matrix__WEBPACK_IMPORTED_MODULE_4__.a.translate(this.modelViewMatrix,this.modelViewMatrix,[0,0,0]),gl_matrix__WEBPACK_IMPORTED_MODULE_4__.a.ortho(this.projectionMatrix,0,t.width,t.height,0,-1,1),this.glState=p,p}draw(e,t,r,o){t.width===e.clientWidth&&t.height===e.clientHeight||(t.width=e.clientWidth,t.height=e.clientHeight,gl_matrix__WEBPACK_IMPORTED_MODULE_4__.a.ortho(this.projectionMatrix,0,t.width,t.height,0,-1,1),r.viewport(0,0,t.width,t.height)),r.clearColor(0,0,0,0),r.clearDepth(1),r.enable(r.DEPTH_TEST),r.enable(r.BLEND),r.depthFunc(r.LEQUAL),r.blendFunc(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT),this.drawBg(r,o),this.drawScene(r,o)}drawBg(e,t){const r=t.background;e.bindBuffer(e.ARRAY_BUFFER,r.bVertexPositions),e.vertexAttribPointer(r.aVertexPosition,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(r.aVertexPosition),r.program.use(),e.uniformMatrix4fv(r.uProjectionMatrix,!1,this.projectionMatrix),e.uniformMatrix4fv(r.uModelViewMatrix,!1,this.modelViewMatrix),e.drawArrays(e.TRIANGLE_STRIP,0,4)}drawScene(e,t){const r=t.scene;e.bindBuffer(e.ARRAY_BUFFER,r.bVertexPositions),e.vertexAttribPointer(r.aVertexPosition,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(r.aVertexPosition),e.bindBuffer(e.ARRAY_BUFFER,r.bTextureCoords),e.vertexAttribPointer(r.aTextureCoord,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(r.aTextureCoord),r.program.use(),e.uniformMatrix4fv(r.uProjectionMatrix,!1,this.projectionMatrix),e.uniformMatrix4fv(r.uModelViewMatrix,!1,this.modelViewMatrix),e.activeTexture(e.TEXTURE0),r.tScene.bind(),e.uniform1i(r.uSampler,0),e.drawArrays(e.TRIANGLE_STRIP,0,4)}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}var reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(RootDiv,"RootDiv","/home/runner/work/openshop/openshop/src/views/StageView.tsx"),reactHotLoader.register(StageCanvas,"StageCanvas","/home/runner/work/openshop/openshop/src/views/StageView.tsx"),reactHotLoader.register(StageView,"StageView","/home/runner/work/openshop/openshop/src/views/StageView.tsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(12)(module))},144:function(e,t,r){"use strict";(function(e){var o,_=r(0),a=r(3),n=r(21),i=r(26),l=r(30),s=r(33),c=r(145),d=r(146);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const p=Object(n.a)(u(e=>{const{app:t}=e,r=t.selectedProject,[o,n]=_.useState(!1),[u,p]=_.useState(!1);return _.createElement(_.Fragment,null,_.createElement(a.Navbar,null,_.createElement(a.NavbarGroup,{align:a.Alignment.LEFT},_.createElement(a.NavbarHeading,null,"OpenShop"),_.createElement(a.NavbarDivider,null),_.createElement(a.ButtonGroup,null,_.createElement(a.Popover,null,_.createElement(a.Button,{minimal:!0,large:!0,text:"File",rightIcon:i.a.CARET_DOWN}),_.createElement(a.Menu,null,_.createElement(a.MenuItem,{text:"New",title:"Creates a new empty project.",icon:_.createElement(l.a,{icon:s.c}),onClick:()=>t.addNewEmptyProject()}),_.createElement(a.MenuDivider,null),_.createElement(a.MenuItem,{icon:_.createElement(l.a,{icon:s.d}),disabled:null==r,text:"Export"}),_.createElement(a.MenuDivider,null),_.createElement(a.MenuItem,{text:"Close"}),_.createElement(a.MenuItem,{text:"Close Others"}),_.createElement(a.MenuItem,{text:"Close To The Right"}),_.createElement(a.MenuItem,{text:"Close All"}))),_.createElement(a.Popover,null,_.createElement(a.Button,{minimal:!0,large:!0,text:"View",rightIcon:i.a.CARET_DOWN}),_.createElement(a.Menu,null,_.createElement(a.MenuItem,{text:"Reset To Fit"}),_.createElement(a.MenuItem,{text:"Reset To 100%"}))),_.createElement(a.Popover,null,_.createElement(a.Button,{minimal:!0,large:!0,text:"Help",rightIcon:i.a.CARET_DOWN}),_.createElement(a.Menu,null,_.createElement(a.MenuItem,{text:"About",onClick:()=>p(!0)}),_.createElement(a.MenuDivider,null),_.createElement(a.MenuItem,{text:"Open Pointer Debug",onClick:()=>n(!0)})))))),_.createElement(c.a,{open:o,onClose:()=>n(!1)}),_.createElement(d.a,{open:u,onClose:()=>p(!1)}))},"useState{[isPointerMenuOpen, setPointerMenuOpen](false)}\nuseState{[isAboutOpen, setAboutOpen](false)}"));var h,E;t.a=p,(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&h.register(p,"default","/home/runner/work/openshop/openshop/src/views/TopBarView.tsx"),(E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&E(e)}).call(this,r(12)(e))},145:function(e,t,r){"use strict";(function(e){var o,_=r(0),a=r(21),n=r(3),i=r(8),l=r(38),s=r(47);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const d=i.b.div.withConfig({displayName:"PointerDebugModal__DialogBody",componentId:"fk7dsz-0"})(["display:flex;flex-direction:column;margin:0px 16px;"]),u=i.b.canvas.withConfig({displayName:"PointerDebugModal__PenZoneCanvas",componentId:"fk7dsz-1"})(["user-select:none;touch-action:none;height:","px;width:","px;"],512,512),p=i.b.div.withConfig({displayName:"PointerDebugModal__TagsDiv",componentId:"fk7dsz-2"})(["display:flex;flex-direction:row;"]),h=Object(a.a)(c(e=>{const t=_.useRef(null),[r,o]=_.useState({tiltX:0,tiltY:0,pressure:0,shiftKey:!1,ctrlKey:!1,twist:0,pressed:!1,eraser:!1,sideButton:!1,altKey:!1});return _.createElement(n.Dialog,{canOutsideClickClose:!0,isCloseButtonShown:!0,isOpen:e.open,onClose:()=>{var t;return null===(t=e.onClose)||void 0===t?void 0:t.call(e)},title:"Pointer Debug",style:{width:"auto"}},_.createElement(d,null,_.createElement(s.a,null,_.createElement(u,{ref:t,width:512,height:512,onPointerMove:a,onPointerDown:a,onPointerUp:a,onContextMenu:e=>e.preventDefault()})),_.createElement(p,{style:{marginBottom:16}},_.createElement(n.Button,{text:"Clear",onClick:()=>function(){const e=t.current;if(null==e)return;const r=e.getContext("2d");if(null==r)return;r.clearRect(0,0,e.width,e.height)}()})),_.createElement(p,null,_.createElement(n.Tag,{intent:"mouse"===r.pointerType?"primary":"none"},"Mouse"),_.createElement(n.Tag,{intent:"pen"===r.pointerType?"primary":"none"},"Pen")),_.createElement(p,null,_.createElement(n.Tag,{intent:r.ctrlKey?"primary":"none"},"Ctrl"),_.createElement(n.Tag,{intent:r.shiftKey?"primary":"none"},"Shift"),_.createElement(n.Tag,{intent:r.altKey?"primary":"none"},"Alt")),_.createElement(p,null,_.createElement(n.Tag,{intent:r.pressed?"primary":"none"},"Primary"),_.createElement(n.Tag,{intent:r.eraser?"primary":"none"},"Eraser"),_.createElement(n.Tag,{intent:r.sideButton?"primary":"none"},"Side")),_.createElement(n.Label,null,"Pressure (",(100*r.pressure).toFixed(2),"%)",_.createElement(n.ProgressBar,{animate:!1,stripes:!1,value:r.pressure})),_.createElement(n.Label,null,"Twist (",r.twist,")",_.createElement(n.ProgressBar,{animate:!1,stripes:!1,value:r.twist})),_.createElement(n.Label,null,"Tilt (",r.tiltX,", ",r.tiltY,")",_.createElement(n.ProgressBar,{stripes:!1,animate:!1,value:Object(l.b)(r.tiltX,-90,90,0,1)}),_.createElement(n.ProgressBar,{stripes:!1,animate:!1,value:Object(l.b)(r.tiltY,-90,90,0,1)}))),_.createElement("div",{className:n.Classes.DIALOG_FOOTER},_.createElement("div",{className:n.Classes.DIALOG_FOOTER_ACTIONS},_.createElement(n.Button,{text:"Close",onClick:()=>{var t;return null===(t=e.onClose)||void 0===t?void 0:t.call(e)}}))));function a(e){e.preventDefault(),o({pressure:e.pressure,tiltX:e.tiltX,tiltY:e.tiltY,twist:e.twist,pointerType:e.pointerType,pressed:1===e.buttons,sideButton:2===e.buttons,eraser:32===e.buttons,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey});const r=t.current;if(null==r)return;if(0===e.pressure)return;const _=r.getContext("2d");if(null==_)return;const a=r.getBoundingClientRect(),n=e.clientX-a.left,i=e.clientY-a.top;if(1===e.buttons){const t=e.pressure*(e.shiftKey?5:10);_.fillStyle=`hsla(${(360*Math.random()).toFixed(2)}, 100%, 50%, 1.0)`,_.beginPath(),_.moveTo(n,i),_.ellipse(n,i,t*Math.cos(e.tiltX/180*Math.PI),t*Math.cos(e.tiltY/180*Math.PI),0,0,2*Math.PI),_.fill()}else if(32===e.buttons){const t=e.pressure*(e.shiftKey?10:20),r=_.globalCompositeOperation;_.globalCompositeOperation="destination-out",_.beginPath(),_.moveTo(n,i),_.ellipse(n,i,t*Math.cos(e.tiltX/180*Math.PI),t*Math.cos(e.tiltY/180*Math.PI),0,0,2*Math.PI),_.fill(),_.globalCompositeOperation=r}}},"useRef{canvasRef}\nuseState{[state, setState]({\n        tiltX: 0,\n        tiltY: 0,\n        pressure: 0,\n        shiftKey: false,\n        ctrlKey: false,\n        twist: 0,\n        pressed: false,\n        eraser: false,\n        sideButton: false,\n        altKey: false,\n    })}"));var E,b;t.a=h,(E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(E.register(d,"DialogBody","/home/runner/work/openshop/openshop/src/components/PointerDebugModal.tsx"),E.register(512,"PEN_ZONE_SIZE","/home/runner/work/openshop/openshop/src/components/PointerDebugModal.tsx"),E.register(u,"PenZoneCanvas","/home/runner/work/openshop/openshop/src/components/PointerDebugModal.tsx"),E.register(p,"TagsDiv","/home/runner/work/openshop/openshop/src/components/PointerDebugModal.tsx"),E.register(-90,"TILT_MIN","/home/runner/work/openshop/openshop/src/components/PointerDebugModal.tsx"),E.register(90,"TILT_MAX","/home/runner/work/openshop/openshop/src/components/PointerDebugModal.tsx"),E.register(h,"default","/home/runner/work/openshop/openshop/src/components/PointerDebugModal.tsx")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)}).call(this,r(12)(e))},146:function(e,t,r){"use strict";(function(e){var o,_=r(0),a=r(21),n=r(3),i=r(8),l=r(26),s=r(147),c=r(30),d=r(75);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const u=i.b.div.withConfig({displayName:"AboutModal__DialogBody",componentId:"tmv3rw-0"})(["display:flex;flex-direction:column;margin:16px 16px;"]);function p(e){return _.createElement("div",null,_.createElement("span",{style:{fontWeight:"bold",marginRight:"1em"}},e.name,":"),_.createElement("span",null,e.value))}const h=i.b.div.withConfig({displayName:"AboutModal__ArgDiv",componentId:"tmv3rw-1"})(["margin:1em 0;"]),E=Object(a.a)(e=>_.createElement(n.Dialog,{canOutsideClickClose:!0,isCloseButtonShown:!0,isOpen:e.open,onClose:()=>{var t;return null===(t=e.onClose)||void 0===t?void 0:t.call(e)},title:"About"},_.createElement(u,null,_.createElement(n.H3,null,"OpenShop"),_.createElement("span",{className:n.Classes.TEXT_SMALL},"Copyright  2020 Russley Shaw"),_.createElement(h,null,_.createElement(p,{name:"Mode",value:d.b}),_.createElement(p,{name:"Hash",value:d.a}),_.createElement(p,{name:"Built",value:d.c})),_.createElement(n.ButtonGroup,{fill:!0},_.createElement(n.AnchorButton,{icon:_.createElement(c.a,{icon:s.a}),fill:!0,target:"_blank",text:"GitHub",href:"https://github.com/russleyshaw/openshop"}),_.createElement(n.AnchorButton,{className:n.Classes.FIXED,icon:l.a.ISSUE_NEW,text:"New Issue",target:"_blank",href:"https://github.com/russleyshaw/openshop/issues/new"}))),_.createElement("div",{className:n.Classes.DIALOG_FOOTER},_.createElement("div",{className:n.Classes.DIALOG_FOOTER_ACTIONS},_.createElement(n.Button,{text:"Close",onClick:()=>{var t;return null===(t=e.onClose)||void 0===t?void 0:t.call(e)}})))));var b,m;t.a=E,(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(b.register(u,"DialogBody","/home/runner/work/openshop/openshop/src/components/AboutModal.tsx"),b.register(p,"ArgEntry","/home/runner/work/openshop/openshop/src/components/AboutModal.tsx"),b.register(h,"ArgDiv","/home/runner/work/openshop/openshop/src/components/AboutModal.tsx"),b.register(E,"default","/home/runner/work/openshop/openshop/src/components/AboutModal.tsx")),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&m(e)}).call(this,r(12)(e))},189:function(e,t,r){"use strict";r.r(t);r(199);var o=r(0),_=r(24),a=r(122);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;_.render(o.createElement(a.a,null),document.getElementById("root"))},199:function(e,t,r){},22:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var enterModule;__webpack_require__.d(__webpack_exports__,"b",(function(){return delayMs})),__webpack_require__.d(__webpack_exports__,"a",(function(){return asNotNil})),__webpack_require__.d(__webpack_exports__,"e",(function(){return safeParseInt})),__webpack_require__.d(__webpack_exports__,"d",(function(){return isPowerOf2})),__webpack_require__.d(__webpack_exports__,"c",(function(){return fillImageData})),__webpack_require__.d(__webpack_exports__,"f",(function(){return wrapmod})),enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},reactHotLoader,leaveModule;async function delayMs(e){return new Promise(t=>setTimeout(t,e))}function asNotNil(e,t){if(null==e)throw new Error(null!=t?t:"Expected value to not be null or undefined.");return e}function getFirst(e){return e[0]}function fillArray(e,t){return new Array(e).fill(t)}function fillArrayFn(e,t){return new Array(e).fill(0).map((e,r)=>t(r))}function safeParseInt(e){const t=parseInt(e,10);return Number.isNaN(t)?null:t}function blendImageDataLayersNormal(e,t,r){let o=0,_=0,a=0,n=0,i=0,l=e[0];for(let s=0;s<l.data.length;s+=4)if(t[s/4]){r.data[s+0]=0,r.data[s+1]=0,r.data[s+2]=0,r.data[s+3]=0;for(let t=0;t<e.length;t++)l=e[t],_=s+0,a=s+1,n=s+2,i=s+3,o=l.data[i]+r.data[i]*(1-l.data[i]),0!==o?(r.data[_]=(l.data[_]*l.data[i]+r.data[_]*r.data[i]*(1-l.data[i]))/o,r.data[a]=(l.data[a]*l.data[i]+r.data[a]*r.data[i]*(1-l.data[i]))/o,r.data[n]=(l.data[n]*l.data[i]+r.data[n]*r.data[i]*(1-l.data[i]))/o):(r.data[_]=0,r.data[a]=0,r.data[n]=0),r.data[i]=o;t[s/4]=!1}}class UnreachableError extends Error{constructor(e,t){super(e)}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}function isPowerOf2(e){return 0==(e&e-1)}function fillImageData(e,t,r,o,_){const a=[t];let n=t;const i=new Array(e.width*e.height).fill(!1);let l=t[1]*e.width+t[0],s=4*l;const c=[e.data[s+0],e.data[s+1],e.data[s+2],e.data[s+3]];let d=!1;for(;a.length>0;)n=a.shift(),n[0]<0||n[0]>=e.width||n[1]<0||n[1]>=e.height||(l=n[1]*e.width+n[0],s=4*l,i[l]||(i[l]=!0,d=isTolerable(e.data[s+0],c[0],o)&&isTolerable(e.data[s+1],c[1],o)&&isTolerable(e.data[s+2],c[2],o)&&isTolerable(e.data[s+3],c[3],o),d&&(e.data[s+0]=r[0],e.data[s+1]=r[1],e.data[s+2]=r[2],e.data[s+3]=r[3],_[l]=!0,a.push([n[0]-1,n[1]],[n[0]+1,n[1]],[n[0],n[1]-1],[n[0],n[1]+1]))))}function isTolerable(e,t,r){return e+r>=t&&e-r<=t}function wrapmod(e,t){return(e%t+t)%t}reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(delayMs,"delayMs","/home/runner/work/openshop/openshop/src/util.ts"),reactHotLoader.register(asNotNil,"asNotNil","/home/runner/work/openshop/openshop/src/util.ts"),reactHotLoader.register(getFirst,"getFirst","/home/runner/work/openshop/openshop/src/util.ts"),reactHotLoader.register(fillArray,"fillArray","/home/runner/work/openshop/openshop/src/util.ts"),reactHotLoader.register(fillArrayFn,"fillArrayFn","/home/runner/work/openshop/openshop/src/util.ts"),reactHotLoader.register(safeParseInt,"safeParseInt","/home/runner/work/openshop/openshop/src/util.ts"),reactHotLoader.register(blendImageDataLayersNormal,"blendImageDataLayersNormal","/home/runner/work/openshop/openshop/src/util.ts"),reactHotLoader.register(UnreachableError,"UnreachableError","/home/runner/work/openshop/openshop/src/util.ts"),reactHotLoader.register(isPowerOf2,"isPowerOf2","/home/runner/work/openshop/openshop/src/util.ts"),reactHotLoader.register(fillImageData,"fillImageData","/home/runner/work/openshop/openshop/src/util.ts"),reactHotLoader.register(isTolerable,"isTolerable","/home/runner/work/openshop/openshop/src/util.ts"),reactHotLoader.register(wrapmod,"wrapmod","/home/runner/work/openshop/openshop/src/util.ts")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(12)(module))},29:function(e,t,r){"use strict";(function(e){r.d(t,"d",(function(){return i})),r.d(t,"a",(function(){return s})),r.d(t,"e",(function(){return d})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return p}));var o,_=r(22);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var a,n;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function i(e){var t;return`rgba(${Math.floor(255*e[0])}, ${Math.floor(255*e[1])}, ${Math.floor(255*e[2])}, ${(null!==(t=e[3])&&void 0!==t?t:1).toFixed(2)})`}function l(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function s(e,t){t[0]=e[0],t[1]=e[1],t[2]=e[2],4===e.length&&4===t.length&&(t[3]=e[3])}function c(e){const[t,r,o]=e;return[t,r,o]}function d(e,t){const r=Math.max(e[0],e[1],e[2]),o=Math.min(e[0],e[1],e[2]),a=r-o;let n;if(0===a)n=0;else if(r===e[0])n=(e[1]-e[2]/a)%6*60;else if(r===e[1])n=60*((e[2]-e[0])/a+2);else{if(r!==e[2])throw new Error("Unreachable");n=60*((e[0]-e[1])/a+4)}t[0]=Object(_.f)(n,360),t[2]=(r+o)/2,t[1]=0===a?0:a/(1-Math.abs(2*t[2]-1)),4===t.length&&4===e.length&&(t[3]=e[3])}function u(e,t){const r=(1-Math.abs(2*e[2]-1))*e[1],o=r*(1-Math.abs(e[0]/60%2-1)),_=e[2]-r/2;for(;e[0]>360;)e[0]-=360;for(;e[0]<0;)e[0]+=360;let a;if(0<=e[0]&&e[0]<60)a=[r,o,0];else if(60<=e[0]&&e[0]<120)a=[o,r,0];else if(120<=e[0]&&e[0]<180)a=[0,r,o];else if(180<=e[0]&&e[0]<240)a=[0,o,r];else if(240<=e[0]&&e[0]<300)a=[o,0,r];else{if(!(300<=e[0]&&e[0]<360))throw new Error("Bad hue: "+e[0]);a=[r,0,o]}t[0]=a[0]+_,t[1]=a[1]+_,t[2]=a[2]+_,4===e.length&&(t[3]=e[3])}function p(e,t){t[0]=Math.floor(255*e[0]),t[1]=Math.floor(255*e[1]),t[2]=Math.floor(255*e[2])}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(a.register(i,"rgbToCss","/home/runner/work/openshop/openshop/src/common/colors.ts"),a.register(l,"isColorEqual","/home/runner/work/openshop/openshop/src/common/colors.ts"),a.register(s,"colorCopy","/home/runner/work/openshop/openshop/src/common/colors.ts"),a.register(c,"toNoAlpha","/home/runner/work/openshop/openshop/src/common/colors.ts"),a.register(d,"rgbToHsl","/home/runner/work/openshop/openshop/src/common/colors.ts"),a.register(u,"hslToRgb","/home/runner/work/openshop/openshop/src/common/colors.ts"),a.register(p,"rgbTo8bit","/home/runner/work/openshop/openshop/src/common/colors.ts")),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)}).call(this,r(12)(e))},30:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return l}));var o,_=r(0),a=r(130);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var n,i;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function l(e){return _.createElement(a.a,{style:{width:16,height:16,marginTop:2,display:"block"},color:"#a7b6c2",icon:e.icon})}(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&n.register(l,"FaIcon","/home/runner/work/openshop/openshop/src/components/fa_icon.tsx"),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)}).call(this,r(12)(e))},31:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"c",(function(){return GlShaderType})),__webpack_require__.d(__webpack_exports__,"b",(function(){return GlShader})),__webpack_require__.d(__webpack_exports__,"d",(function(){return GlTexture})),__webpack_require__.d(__webpack_exports__,"a",(function(){return GlProgram}));var _util__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(22),enterModule;enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};let GlShaderType;function shaderTypeToEnum(e,t){switch(t){case GlShaderType.VERTEX:return e.VERTEX_SHADER;case GlShaderType.FRAGMENT:return e.FRAGMENT_SHADER}}!function(e){e[e.FRAGMENT=0]="FRAGMENT",e[e.VERTEX=1]="VERTEX"}(GlShaderType||(GlShaderType={}));class GlShader{constructor(e,t,r){this.glShader=void 0,this.glType=void 0,this.type=void 0,this._gl=void 0,this._gl=e,this.type=t,this.glType=shaderTypeToEnum(e,t);const o=Object(_util__WEBPACK_IMPORTED_MODULE_0__.a)(e.createShader(this.glType),"Failed to create shader.");if(e.shaderSource(o,r),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS)){var _;const t=null!==(_=e.getShaderInfoLog(o))&&void 0!==_?_:"";throw e.deleteShader(o),new Error("An error occurred compiling the shaders: "+t)}this.glShader=o}static async load(e,t,r){return r.then(r=>new GlShader(e,t,r.default))}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}class GlTexture{constructor(e,t){this.glTexture=void 0,this._gl=void 0,this._gl=e,this.glTexture=Object(_util__WEBPACK_IMPORTED_MODULE_0__.a)(e.createTexture()),this.setImageData(t)}bind(){const e=this._gl;e.bindTexture(e.TEXTURE_2D,this.glTexture)}setImageData(e){this.bind();const t=this._gl,r=t.RGBA,o=t.RGBA,_=t.UNSIGNED_BYTE;t.texImage2D(t.TEXTURE_2D,0,r,e.width,e.height,0,o,_,e.data),Object(_util__WEBPACK_IMPORTED_MODULE_0__.d)(e.width)&&Object(_util__WEBPACK_IMPORTED_MODULE_0__.d)(e.height)?t.generateMipmap(t.TEXTURE_2D):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR))}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}class GlProgram{constructor(e,t,r){this.glProgram=void 0,this.vertShader=void 0,this.fragShader=void 0,this._gl=void 0,this._gl=e,this.vertShader=t,this.fragShader=r;const o=Object(_util__WEBPACK_IMPORTED_MODULE_0__.a)(e.createProgram());if(e.attachShader(o,t.glShader),e.attachShader(o,r.glShader),e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS)){var _;const t=null!==(_=e.getProgramInfoLog(o))&&void 0!==_?_:"";throw e.deleteProgram(o),new Error("Could not compile WebGL program. \n\n"+t)}this.glProgram=o}use(){this._gl.useProgram(this.glProgram)}getUniformLocation(e){const t=this._gl;return Object(_util__WEBPACK_IMPORTED_MODULE_0__.a)(t.getUniformLocation(this.glProgram,e),"Unable to create uniform location: "+e)}getAttribLocation(e){return this._gl.getAttribLocation(this.glProgram,e)}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}var reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(shaderTypeToEnum,"shaderTypeToEnum","/home/runner/work/openshop/openshop/src/common/webgl.ts"),reactHotLoader.register(GlShader,"GlShader","/home/runner/work/openshop/openshop/src/common/webgl.ts"),reactHotLoader.register(GlTexture,"GlTexture","/home/runner/work/openshop/openshop/src/common/webgl.ts"),reactHotLoader.register(GlProgram,"GlProgram","/home/runner/work/openshop/openshop/src/common/webgl.ts")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(12)(module))},38:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return s}));var o,_=r(22);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var a,n;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function i(e,t){const r=new RegExp(e.replace("#","([0-9]+)"));let o=0;for(const e of t){const t=r.exec(e);if(null==t)continue;const a=Object(_.e)(t[1]);null!=a&&(o=Math.max(o,a+1))}return e.replace("#",o.toString())}function l(e){return 0==(e&e-1)}function s(e,t,r,o,_){return(e-t)*(_-o)/(r-t)+o}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(a.register(i,"getNextName","/home/runner/work/openshop/openshop/src/common/util.ts"),a.register(l,"isPowerOf2","/home/runner/work/openshop/openshop/src/common/util.ts"),a.register(s,"mapRange","/home/runner/work/openshop/openshop/src/common/util.ts")),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)}).call(this,r(12)(e))},47:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return n}));var o,_=r(8),a=r(72);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const n=_.b.div.withConfig({displayName:"alpha_backdrop__AlphaBackdropDiv",componentId:"sc-14fqnmk-0"})(["background-image:url(",");"],a.a);var i,l;(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&i.register(n,"AlphaBackdropDiv","/home/runner/work/openshop/openshop/src/components/alpha_backdrop.tsx"),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)}).call(this,r(12)(e))},56:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return Notifier})),__webpack_require__.d(__webpack_exports__,"b",(function(){return useNotify}));var uuid__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(58),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),enterModule;enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},reactHotLoader,leaveModule;class Notifier{constructor(e){this.value=void 0,this.subscriberEntries=[],this.value=e}subscribe(e){const t=Object(uuid__WEBPACK_IMPORTED_MODULE_0__.a)();return this.subscriberEntries.push({key:t,sub:e}),()=>this.deleteSubscriber(t)}notify(){for(const e of this.subscriberEntries)try{e.sub(this.value)}catch(t){console.warn(`Subscriber ${e.key} threw an error.`),console.warn(t)}}deleteSubscriber(e){const t=this.subscriberEntries.findIndex(t=>t.key===e);t<0||this.subscriberEntries.splice(t,1)}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}function useNotify(e,t){const r=Object(react__WEBPACK_IMPORTED_MODULE_1__.useRef)(t);Object(react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{r.current=t},[t]),Object(react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{const t=e.subscribe(e=>r.current(e));return()=>{t()}},[e])}function useNotifyState(e,t){const[r]=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(()=>new Notifier(e())),o=Object(react__WEBPACK_IMPORTED_MODULE_1__.useRef)(t);return Object(react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{o.current=t},[t]),Object(react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{const e=r.subscribe(e=>o.current(e));return()=>{e()}},[r]),r}__signature__(useNotify,"useRef{savedCallback}\nuseEffect{}\nuseEffect{}"),__signature__(useNotifyState,"useState{[notifier](() => new Notifier(initialValue()))}\nuseRef{savedCallback}\nuseEffect{}\nuseEffect{}"),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(Notifier,"Notifier","/home/runner/work/openshop/openshop/src/common/notifier.ts"),reactHotLoader.register(useNotify,"useNotify","/home/runner/work/openshop/openshop/src/common/notifier.ts"),reactHotLoader.register(useNotifyState,"useNotifyState","/home/runner/work/openshop/openshop/src/common/notifier.ts")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(12)(module))},72:function(e,t,r){"use strict";t.a=r.p+"ad7e350edf05a47cbae91ad6aa38c2f2.png"},75:function(e,t,r){"use strict";(function(e){var o;r.d(t,"b",(function(){return _})),r.d(t,"a",(function(){return a})),r.d(t,"c",(function(){return n})),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const _=null!=="production"?"production":"development",a=null!=="765d6ac46bbd4762198ca119d4b50580c3335f01"?"765d6ac46bbd4762198ca119d4b50580c3335f01":"N/A",n=null!=="Thu, 06 Aug 2020 06:25:39 GMT"?"Thu, 06 Aug 2020 06:25:39 GMT":"N/A";var i,l;(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register(_,"NODE_ENV","/home/runner/work/openshop/openshop/src/var.ts"),i.register(!1,"DEBUG","/home/runner/work/openshop/openshop/src/var.ts"),i.register(a,"GIT_HASH","/home/runner/work/openshop/openshop/src/var.ts"),i.register(n,"TIMESTAMP","/home/runner/work/openshop/openshop/src/var.ts")),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)}).call(this,r(12)(e))},80:function(e,t,r){"use strict";(function(e){var o;r.d(t,"a",(function(){return n})),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var _,a;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function n(e,t){const r=[],o=t[0]-e[0],_=t[1]-e[1];let a=0,n=0,i=0;if(Math.abs(o)>Math.abs(_))for(i=_/o,n=e[1],a=e[0];a!=t[0];a+=Math.sign(o))n=i*(a-e[0])+e[1],r.push([a,Math.round(n)]);else for(i=o/_,a=e[0],n=e[1];n!=t[1];n+=Math.sign(_))a=i*(n-e[1])+e[0],r.push([Math.round(a),n]);return r}(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&_.register(n,"calcLine","/home/runner/work/openshop/openshop/src/common/point.ts"),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&a(e)}).call(this,r(12)(e))}});